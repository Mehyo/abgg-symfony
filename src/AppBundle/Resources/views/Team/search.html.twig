{% extends '::base.html.twig' %}

{% block body %}
  <h1>Team list</h1>

  <table class="records_list">
    <thead>
      <tr>
        <th>Nom de l'équipe</th>
        <th>Nombre de membres</th>
        {% if needs_posts %}
          <th>Postes libres</th>
        {% endif %}
      </tr>
    </thead>
    <tbody>
      {% for entity in entities %}
        <tr>
          <td>
            <a href="{{ path('team_show', { 'id' : entity.id }) }}">{{ entity.name }}</a>
          </td>
          <td>{{ entity.nb }}</td>
          {% if needs_posts %}
            <td>
              <ul>
                {% for post in entity.posts %}
                  {% if post != null %}
                    <li>{{ post }}</li>
                  {% endif %}
                {% endfor %}
                <td>
                  <ul>
                    <li>
                      <a href="{{ path('team_show', { 'id': entity.id }) }}">Montrer l'équipe</a>
                    </li>
                    <li>
                      <a href="{{ path('team_show', { 'id': entity.id }) }}">Postuler
                      </a>
                    </li>
                    </ul>
                  </td>
                </ul>
{#               <td>
                <li>
                  <a href="{{ path('team_apply', { 'id': entity.id }) }}">Postuler
                  </a>
                </li>
              </td> #}
            </td>
          {% endif %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
